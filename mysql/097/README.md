# No.097

小売システムのデータベースを管理しており、注文処理中に商品の在庫を減らす必要があります。注文が完了するためにはすべての商品が在庫から減算される必要がありますが、いずれかの商品の在庫が不足している場合は、すべての減算操作を取り消さなければなりません。

### テーブル設計

**Products テーブル:**

| ProductID | ProductName | Stock |
|-----------|-------------|-------|
| 1         | Laptop      | 10    |
| 2         | Mouse       | 25    |
| 3         | Keyboard    | 15    |
| 4         | Monitor     | 8     |

**Orders テーブル:**

| OrderID | ProductID | Quantity |
|---------|-----------|----------|
| 1001    | 1         | 2        |
| 1002    | 2         | 1        |
| 1003    | 4         | 10       |
