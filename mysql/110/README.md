# No.110

複数の商品が購入されるときに、それぞれの在庫を確認し、足りている場合のみ一括で在庫を減らし、注文履歴を保存します。バッチ処理と条件付き更新でパフォーマンスを向上させます。

### テーブル設計

**Products テーブル:**

| ProductID | ProductName | Stock |
|-----------|-------------|-------|
| 1         | TV          | 15    |
| 2         | Laptop      | 20    |
| 3         | Tablet      | 10    |

**Orders テーブル:**

| OrderID | ProductID | Quantity | OrderDate  |
|---------|-----------|----------|------------|
