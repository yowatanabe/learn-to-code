# No.136

「在庫管理システム」を考えます。**商品情報を管理する `products` テーブル**と、**購入情報を管理する `purchases` テーブル**があります。

- 購入情報が`purchases`テーブルに追加されたときに、**対応する商品の在庫数を自動的に減少**させます。
- ただし、在庫数が**0未満にならないようにする**必要があります。

**要件**
1. ストアドプロシージャを使って在庫数を効率的に更新します。
2. トリガーは、購入が発生するたびにストアドプロシージャを呼び出します。
3. 在庫が不足している場合は、購入処理をキャンセルし、**エラーをスロー**してください。
