# No.246

## 問題文

**滑動窓レートリミット判定**

等間隔とは限らないリクエスト到着時刻の配列 `timestamps`（秒, **非減少**に並んだ整数）と、任意の連続区間 `W` 秒内に許容される最大リクエスト数 `C`（整数, `C ≥ 0`）が与えられる。

到着順に各リクエストを処理するとき、**直近 `W` 秒の滑動窓**（区間は **[t - W + 1, t]**、両端含む）内に**許可済み**リクエストが `C` 件未満であればそのリクエストを**許可（1）**、そうでなければ**拒否（0）**とする。

全リクエストに対する 0/1 の配列を返せ。

* `timestamps` の長さは `n (0 ≤ n ≤ 2 * 10^5)`、`0 ≤ timestamps[i] ≤ 10^9`、非減少（同時刻複数あり得る）
* `W (0 ≤ W ≤ 10^9)`、`C (0 ≤ C ≤ 10^9)`
* 計算量は **O(n)**、追加メモリは **O(n)** を目標とする
* `W = 0` のとき、各リクエストは **同一時刻に限る**窓で判定される（その時刻に `C` 件まで許可）


## 実行例

**例1**

```
入力:
timestamps = [1, 1, 2, 2, 3, 10, 10, 11]
W = 3
C = 3
出力:
[1, 1, 1, 0, 0, 1, 1, 1]
説明:
t=1で2件、t=2で1件許可し計3件に到達。t=2の4番目、t=3は直近[1,3]がすでに3件で拒否。
t=10,10,11 は直近窓で許可枠に余裕があるため許可。
```

**例2**

```
入力:
timestamps = [5, 5, 5, 5]
W = 0
C = 2
出力:
[1, 1, 0, 0]
説明:
窓は [5,5] のみを見るため、同一時刻では2件まで許可。
```

**例3**

```
入力:
timestamps = [0, 1, 2, 3, 4]
W = 5
C = 10
出力:
[1, 1, 1, 1, 1]
説明:
常に枠内。
```

**例4**

```
入力:
timestamps = []
W = 10
C = 1
出力:
[]
```

## 実行結果

```
[1, 1, 1, 0, 0, 1, 1, 1]
[1, 1, 0, 0]
[1, 1, 1, 1, 1]
[]
```
