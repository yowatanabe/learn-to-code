# No.269

## 問題文

**全サーバにアラートが届くまでの最長時間（ネットワーク遅延）**

`n` 台のサーバがあり、ID は `0` から `n-1` で表される。

アラートはあるサーバ `source` から送信され、ネットワーク経路を通じて他のサーバへ伝播する。

ネットワークのリンク情報が配列 `links` として与えられる。

`links[i] = [u, v, w]` は次を意味する:

* サーバ `u` からサーバ `v` へ一方向のリンクがあり、
* そのリンクの遅延時間は `w`（正の整数）ミリ秒

アラートは `source` から開始し、リンクの遅延時間を足しながら伝播する。
**全てのサーバにアラートが届くまでにかかる最短時間の最大値**を求めよ。
もし `source` から到達できないサーバが1台でも存在する場合は `-1` を返せ。

* サーバ数 `n` は `1 ≤ n ≤ 2 * 10^5`
* リンク数 `m = len(links)` は `0 ≤ m ≤ 2 * 10^5`
* 各リンクは `0 ≤ u, v < n`, `1 ≤ w ≤ 10^9`
* `0 ≤ source < n`
* 期待計算量: **O(m log n)**、追加メモリ: **O(m + n)**

**ヒント:**

* グラフは有向グラフ。
* `source` から各サーバへの**最短距離**を求める必要があるので、
  負の重みがない → **Dijkstra 法**（優先度付きキュー）を使う。
* 全てのサーバの最短距離を求めたあと、その中の最大値が「全員に届くまでの時間」。


## 実行例

**例1**

```text
入力:
n = 4
links = [
  [0, 1, 1],
  [0, 2, 4],
  [1, 2, 2],
  [2, 3, 1]
]
source = 0

出力:
4

説明:
最短距離:
  0 -> 0 : 0
  0 -> 1 : 1
  0 -> 2 : min(4, 1+2)=3
  0 -> 3 : 0->2->3 = 3+1=4

最長はサーバ3への4msなので、答えは4。
```

**例2**

```text
入力:
n = 3
links = [
  [0, 1, 5],
  [1, 2, 5]
]
source = 0

出力:
10

説明:
0 -> 0 : 0
0 -> 1 : 5
0 -> 2 : 5 + 5 = 10
全て到達可能で、最大は10。
```

**例3**

```text
入力:
n = 3
links = [
  [0, 1, 2]
]
source = 0

出力:
-1

説明:
サーバ2に到達できないので -1。
```

**例4**

```text
入力:
n = 1
links = []
source = 0

出力:
0

説明:
サーバが1台だけなので、自分への距離0が答え。
```

## 実行結果

```
4
10
-1
0
```
