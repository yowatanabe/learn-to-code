# No.206

## 問題文

LRU キャッシュを設計してください。

容量 `capacity` を持つ LRU (Least Recently Used) キャッシュを実装します。
次の 2 つの操作を **O(1)** 平均時間で行えるようにしてください。

* `get(key)`: `key` が存在すれば対応する値を返し、そのエントリを**最近使われた**ものとして更新。存在しなければ `-1` を返す。

* `put(key, value)`: `key` が存在すれば値を更新し、エントリを**最近使われた**ものとして更新。
  `key` が存在しなければ新規に追加。容量を超える場合は**最も古く使われていない**エントリを削除。

* `1 <= capacity <= 10^4`

* `-10^9 <= key, value <= 10^9`

* 操作回数は最大 `10^5`


## 実行例

```
入力:
["LRUCache","put","put","get","put","get","put","get","get","get"]
[[2], [1,1], [2,2], [1], [3,3], [2], [4,4], [1], [3], [4]]

出力:
[null, null, null, 1, null, -1, null, -1,  3, 4]

説明:
LRUCache(2) を作成
put(1,1)
put(2,2)
get(1) -> 1        // 1 が最近使用に
put(3,3)           // 容量超過: 最も古い 2 を削除
get(2) -> -1       // すでに削除済み
put(4,4)           // 容量超過: 現在最も古い 1 を削除
get(1) -> -1
get(3) -> 3
get(4) -> 4
```

この実装は **ハッシュマップ + 双方向連結リスト** により、`get/put` ともに平均 **O(1)** を達成します。

`head` 直後が「最新」、`tail` 直前が「最古」となるように保ち、容量超過時に LRU を即時に削除できます。

## 実行結果

```
[None, None, None, 1, None, -1, None, -1, 3, 4]
```
