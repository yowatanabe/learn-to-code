# No.279

## 問題文

**最小サーバ台数（同時接続数の最大値）**

あるサービスに対して、複数のバッチジョブ（またはリクエスト処理）がスケジュールされている。

各ジョブは、開始時刻と終了時刻を持ち、

1 ジョブは 1 台のサーバ上で連続して動作するとする（途中でサーバを移動しない）。

ジョブの時間区間が `jobs` として与えられる。

`jobs[i] = [start_i, end_i]` は「ジョブ `i` は時刻 `start_i` 以上 `end_i` 未満の間、サーバを占有する」ことを意味する。

**すべてのジョブを落とさずに実行するために必要なサーバ台数の最小値**を求めよ。

* ジョブの時間は整数とする。
* 半開区間 `[start, end)` として扱い、`end` の瞬間にはサーバは空くものとする。

  * つまり、`[1, 3)` と `[3, 5)` は同じサーバで実行可能。
  * 一方、`[1, 3)` と `[2, 4)` は重なっているので別サーバが必要。
* `0 ≤ len(jobs) ≤ 2 * 10^5`
* `-10^9 ≤ start_i < end_i ≤ 10^9`

期待計算量:

* 時間: **O(n log n)**（`n = len(jobs)`）
* 追加メモリ: **O(n)**

## 実行例

**例1**

```text
入力:
jobs = [
  [0, 30],
  [5, 10],
  [15, 20]
]

出力:
2

説明:
- ジョブ0: [0, 30)
- ジョブ1: [5, 10)
- ジョブ2: [15, 20)

[5,10) と [15,20) はどちらも [0,30) と重なるため、
最大同時実行数は2。
```

**例2**

```text
入力:
jobs = [
  [7, 10],
  [2, 4]
]

出力:
1

説明:
2〜4 と 7〜10 は重なっていないので、1台のサーバで足りる。
```

**例3**

```text
入力:
jobs = [
  [1, 3],
  [3, 5],
  [5, 7]
]

出力:
1

説明:
いずれも端点のみ接しているが、半開区間なので重なっていない。
1台で順番に処理できる。
```

**例4**

```text
入力:
jobs = [
  [1, 4],
  [2, 5],
  [3, 6],
  [4, 7]
]

出力:
3

説明:
区間がずれて重なっているので、最大で3つのジョブが同時実行になる瞬間がある。
```

**例5**

```text
入力:
jobs = []

出力:
0

説明:
ジョブがなければサーバも不要。
```

## 実行結果

```
2
1
1
3
0
```
